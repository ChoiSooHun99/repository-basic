# 제어공학 HW1
## 전기공학과 2019732010 최수헌
---
* **P2.7** 그림 P2.7과 같이 1차 저역통과 필터로 구현한 적분 증폭기 회로의 전달함수를 구하라.  
<a href="https://imgbb.com/"><img src="https://i.ibb.co/b11p5t2/2-7.png" alt="2-7" border="0"></a>

###**풀이과정**   
<br />
$$V_2(s)=-\frac{Z_2(s)}{Z_1(s)}V_1(s), Z_1=R, Z_2=\frac{1}{C_s} $$
<br />
$$V_2(s)=-\frac{1}{RC_s}V_1(s)$$
따라서 적분 증폭기 회로의 전달함수는
<br />
$$G(s)=\frac{V_2(s)}{V_1(s)}=-\frac{1}{RC_s}$$

----
<br />

* **P2.12** 그림 P2.12에 주어진 블록선도로 표현돈 개루프 제어시스템에 대해 , t->∞ 일 때 단위계단 입력 r(t)에 대한 응답 y(t)->1이 되도록 K값을 정하라, 초기조건은 영이라고 가정한다.
<a href="https://imgbb.com/"><img src="https://i.ibb.co/DCCpCf3/2-12.png" alt="2-12" border="0"></a>

###**풀이과정**
<br />
$$R(s) = \frac{1}{s} \quad (\text{Step Input Response in Laplace Domain})$$

$$Y(s) = \frac{k}{s+50} R(s) = \frac{k}{s+50} \cdot \frac{1}{s} = \frac{k}{50} \left( \frac{1}{s} - \frac{1}{s+50} \right)$$

$$y(t) = \frac{k}{50} \left(1 - e^{-50t}\right)$$

$$y(\infty) = 1$$

$$\frac{k}{50} = 1 \quad \Rightarrow \quad k = 50$$

---
<br />

* **P2.15** 스프링-질량 시스템이 그림 P2.15에 주어졌다. 질량 m의 운동을 기술하는 미분방정식을 구하라. 초기조건이 영인 임펄스 입력에 대한 시스템의 응답 x(t)를 구하라.  
<a href="https://imgbb.com/"><img src="https://i.ibb.co/ZcXxLZH/2-15.png" alt="2-15" border="0"></a>

###**풀이과정**
<br />  
주어진 미분방정식:

$$r(t) = M \frac{d^2 x(t)}{d t^2} + b \frac{d x(t)}{d t} + k x(t)$$

Step-by-step Solution:

$$R(s) = M s^2 X(s) + b s X(s) + k X(s)$$

$$X(s) = \frac{R(s)}{M s^2 + b s + k}$$
   
$$Assume R(s) = 1$$

$$X(s) = \frac{1}{M s^2 + b s + k}$$

$$x(t) = 2 \sin\left( \frac{t \sqrt{4kM - b^2}}{2M} \right) e^{-\frac{bt}{2M}} \cdot \frac{1}{\sqrt{4kM - b^2}}$$

임펄스 입력에 대한 시스템 x(t).  

---
<br />

* **P2.26** 로봇은 그리퍼로 무거운 부하를 들 수 있으며 팔각 부위의 유연성이 높다[6,20]. 이 로봇의 두 질량모델이 그림 P2.26에 주어져 있다. 전달함수 $Y(s)/F(s)$를 구하라.
<a href="https://imgbb.com/"><img src="https://i.ibb.co/fYPqqQD/2-26.png" alt="2-26" border="0"></a>

###**풀이과정**

스프링-질량-감쇄기 문제는 뉴턴의 운동법칙을 이용해서 문제를 해결해야한다.

$$M\frac{\mathrm{d^2x(t)}}{\mathrm{d} x^2} +b( \frac{\mathrm{dx(t)} }{\mathrm{d} x} -\frac{\mathrm{dy(t)} }{\mathrm{d} x}) + K(x(t)-y(t)) = F(t)$$

$$M\frac{\mathrm{d^2y(t)}}{\mathrm{d} x^2} +b( \frac{\mathrm{dy(t)} }{\mathrm{d} x} -\frac{\mathrm{dx(t)} }{\mathrm{d} x}) + K(y(t)-x(t)) = 0$$

무게를 M,m , 이동거리를 t에 대한 x,y 함수로 설정하고, 위 두 식을 라플라스 변환을 해주면,

$$MS^2X(S) +bSX(S) + KX(S) - bSY(S) - KY(S) = F(S)$$

$$mS^2Y(S) +bSY(S) + KY(S) - bSX(S) - KX(S) = 0$$

와 같이 된다. 이를 행렬 식으로 풀어내게 되면,

$$
\begin{bmatrix}
MS^2+bS+k & -(bS + k) \\
-(bS+K)& mS^2+bS+K
\end{bmatrix}
\begin{bmatrix}
X(S) \\
Y(S)
\end{bmatrix}
=
\begin{bmatrix}
F(S) \\
0
\end{bmatrix}
$$


이를 역행렬로 $Y(S)$를 구하면

$$
\begin{bmatrix}
X(S) \\
Y(S)
\end{bmatrix}
=
A^{-1}
\begin{bmatrix}
F(S) \\
0
\end{bmatrix}
$$

Matlab으로 연산하면 다음과 같다.

```
syms S M m b k F

% 행렬 A 정의
A = [M*S^2 + b*S + k, -(b*S + k);
     -(b*S + k), m*S^2 + b*S + k];

% 행렬 A의 역행렬 구하기
A_inv = inv(A);

% 입력 벡터 정의
B = [F; 0];

Y = inv(A) * B;

% 전달함수 계산
transfer_function = Y(2)/F;

% 결과 출력
disp('역행렬:');
disp(A_inv);

disp('Y(S)/F(S) = ');
disp(transfer_function);
역행렬:
[(m*S^2 + b*S + k)/(b*m*S^3 + k*m*S^2 + M*b*S^3 + M*k*S^2 + M*m*S^4),         (k + b*S)/(b*m*S^3 + k*m*S^2 + M*b*S^3 + M*k*S^2 + M*m*S^4)]
[        (k + b*S)/(b*m*S^3 + k*m*S^2 + M*b*S^3 + M*k*S^2 + M*m*S^4), (M*S^2 + b*S + k)/(b*m*S^3 + k*m*S^2 + M*b*S^3 + M*k*S^2 + M*m*S^4)]

Y(S)/F(S) =
(k + b*S)/(b*m*S^3 + k*m*S^2 + M*b*S^3 + M*k*S^2 + M*m*S^4)
```


위 연산의 결과로 전달함수 $\frac{Y(S)}{F(S)}$는 다음과 같다.


$$G(S) = \frac{Y(S)}{F(S)} = \frac{k+bS}{MmS^4+bmS^3+MbS^3+kmS^2+kMS^2}$$

---
<br />

* **P2.37** 입력 힘 u(t)를 가지는 두 개의 질량 시스템을 그림 P2.37에 나타냈다. $m_1=m_2=1$ 이고 $K_1=K_2=1$일 때,  
(a) 이 시스템을 표현하는 미분방정식을 구하라.  
(b) U(S)에서 Y(S)까지의 전달함수를 계산하라.  
<a href="https://imgbb.com/"><img src="https://i.ibb.co/Kzfbq6B/2-37.png" alt="2-37" border="0"></a>

###**풀이과정**

(a)


$$m_{1}\frac{\mathrm{d^2}x(t)}{\mathrm{d} t} + k_1x(t) + k_2(x(t)-y(t)) = 0$$

$$m_{2}\frac{\mathrm{d^2}y(t)}{\mathrm{d} t} + k_2(y(t)-x(t)) = u(t)$$

위 식에 $m_1 = m_2 = K_1 = K_2 = 1$을 대입하여 미분방정식으로 정리한다.

$$\frac{\mathrm{d^2}x(t)}{\mathrm{d} x} = -2x(t) + y(t)$$

$$\frac{\mathrm{d^2}y(t)}{\mathrm{d} t} = u(t) + x(t) -y(t)$$


(b)

여기서는 (a)에서 구한 미분방정식을 통해 라플라스 변환을 적용한다.

$$S^2X(S) = -2X(S) + Y(S) \to (S^2+2)X(S) - Y(S) = 0$$

$$S^2Y(S) = U(S) + X(S) - Y(S) \to -X(S) + (S^2 + 1)Y(S) = U(S)$$

행렬방정식으로 접근하면

$$
\begin{bmatrix}
S^2+2 & -1\\
 -1& S^2+1
\end{bmatrix}
\begin{bmatrix}
X(S) \\
Y(S)
\end{bmatrix}
=
\begin{bmatrix}
0 \\
U(S)
\end{bmatrix}
$$

이다. 이를 역행렬을 통해 Y(S)에 대해 전개하면 U(S)에서 Y(S)의 전달함수가 나오게 된다.

$$
\begin{bmatrix}
X(S) \\
Y(S)
\end{bmatrix}
=
\begin{bmatrix}
\frac{S^2+1}{S^4+3S^2+1} & \frac{1}{S^4+3S^2+1}\\
\frac{1}{S^4+3S^2+1}& \frac{S^2+2}{S^4+3S^2+1}
\end{bmatrix}
\begin{bmatrix}
0 \\
U(S)
\end{bmatrix}
$$

$Y(S) = \frac{S^2+2}{S^4+3S^2+1}U(S)$ 이므로 전달함수는 다음과 같다.

$$G(S) = \frac{Y(S)}{(U(S)} = \frac{S^2+2}{S^4+3S^2+1}$$

